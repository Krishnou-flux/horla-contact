<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Le Horla – Flux</title>
<style>
  body {
    margin: 0;
    background: #000;
    color: #c0c0c0;
    font-family: "Courier New", monospace;
    text-align: center;
    padding: 50px;
    height: 100vh;
    overflow: hidden;
  }

  h1 {
    font-size: 3em;
    color: #8b0000;
    letter-spacing: 5px;
    text-shadow: 0 0 10px #ff0000aa;
    animation: flicker 3s infinite;
  }

  #puzzle {
    display: grid;
    grid-template-columns: repeat(5, 50px);
    grid-gap: 5px;
    justify-content: center;
    margin-top: 50px;
  }

  .tile {
    width: 50px;
    height: 50px;
    background: #333;
    animation: tileBlink 1s infinite alternate;
    cursor: pointer;
  }

  .tile.red {
    background: #8b0000;
    animation: none;
  }

  #linkContainer {
    display: none;
    margin-top: 40px;
  }

  a {
    color: #ff2222;
    text-decoration: none;
    padding: 10px 20px;
    border: 2px solid #ff2222;
    border-radius: 8px;
    background: rgba(20,0,0,0.2);
    text-shadow: 0 0 5px #ff0000aa;
    transition: all 0.2s ease-in-out;
  }

  a:hover {
    color: #fff;
    border-color: #fff;
    background: rgba(255,0,0,0.2);
    box-shadow: 0 0 20px #ff0000;
  }

  @keyframes flicker {
    0%, 18%, 22%, 25%, 53%, 57%, 100% { opacity: 1; }
    20%, 24%, 55% { opacity: 0.2; }
  }

  @keyframes tileBlink {
    0% { background: #333; }
    50% { background: #666; }
    100% { background: #333; }
  }

</style>
</head>
<body>
<h1>LE HORLA</h1>
<p>Les murmures s’assemblent.<br>Le flux est verrouillé. Trouve la pièce rouge pour continuer.</p>

<div id="puzzle"></div>

<div id="linkContainer">
  <a href="https://discord.gg/YeDVg2FaFa" target="_blank">ENTRER DANS LE FLUX</a>
</div>

<script>
  const puzzle = document.getElementById('puzzle');
  const linkContainer = document.getElementById('linkContainer');

  // Créer 25 tuiles et une rouge aléatoire
  const redIndex = Math.floor(Math.random() * 25);

  for(let i=0; i<25; i++){
    const tile = document.createElement('div');
    tile.classList.add('tile');
    if(i === redIndex) tile.classList.add('red');

    tile.addEventListener('click', () => {
      if(tile.classList.contains('red')){
        puzzle.style.display = 'none';
        linkContainer.style.display = 'block';
      } else {
        tile.style.animation = 'shake 0.3s';
        setTimeout(() => tile.style.animation = '', 300);
      }
    });

    puzzle.appendChild(tile);
  }

</script>
</body>
</html>
